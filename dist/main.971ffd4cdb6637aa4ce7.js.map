{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/busywork.svg","webpack:///./src/assets/charity.svg","webpack:///./src/assets/relaxation.svg","webpack:///./src/assets/music.svg","webpack:///./src/assets/social.svg","webpack:///./src/assets/recreational.svg","webpack:///./src/assets/diy.svg","webpack:///./src/assets/cooking.svg","webpack:///./src/assets/education.svg","webpack:///./src/assets/like-true.svg","webpack:///./src/assets/like-false.svg","webpack:///./src/views/base.js","webpack:///./src/modules/Activity.js","webpack:///./src/modules/AppActivity.js","webpack:///./src/modules/Likes.js","webpack:///./src/assets/accesibility.svg","webpack:///./src/assets/price.svg","webpack:///./src/assets/participants.svg","webpack:///./src/views/activityView.js","webpack:///./src/views/likesView.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","nav","document","querySelector","menu","likes","activitySection","main","likeToggle","body","whenSignedIn","getElementById","whenSignedOut","signInBtn","signOutBtn","userDetails","createAct","actsList","newAct","getLikeImage","liked","likeImg","getImage","type","actImg","busywork","charity","cooking","diy","education","music","recreational","relaxation","social","renderLoader","parent","insertAdjacentHTML","clearLoader","loader","parentElement","removeChild","Activy","contributedData","this","data","undefined","url","res","fetch","then","response","ok","Error","status","json","error","console","title","activity","people","participants","price","link","access","accessibility","err","db","firebase","firestore","AppActivity","collection","doc","exists","bool","oldDoc","update","Likes","id","like","parseInt","push","persistData","index","findIndex","el","splice","length","localStorage","setItem","JSON","stringify","storage","parse","getItem","renderActivity","isLiked","markup","Math","round","clearActivity","innerHTML","renderListItem","html","deleteListItem","state","auth","currentUser","actsRef","userData","unsubscribe","counter","controlActivity","async","contribution","act","getResults","uid","some","deleteLike","controlApp","likeType","app","updateLike","default","provider","GoogleAuthProvider","onAuthStateChanged","user","hidden","displayName","cloudData","set","forEach","catch","onclick","elements","actAdd","uname","accesibility","createdAt","FieldValue","serverTimestamp","addLike","orderBy","onSnapshot","querySnapshot","docs","items","map","join","signInWithPopup","signOut","window","location","hash","readStorage","addEventListener","e","target","matches","classList","contains","remove","add","controlLike","replace","trim","getData","changeLanguageByButtonClick"],"mappings":"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","file":"main.971ffd4cdb6637aa4ce7.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","export default __webpack_public_path__ + \"imgs/busywork.c8b68bdfbe524d73211081b9f13b0eef.svg\";","export default __webpack_public_path__ + \"imgs/charity.f15fc99644f13ad53879b4dfb5becf43.svg\";","export default __webpack_public_path__ + \"imgs/relaxation.fa1d5b6ddaf8b2511448a31a9ccfb08a.svg\";","export default __webpack_public_path__ + \"imgs/music.b7f3ce702efdb2d3c4baad72c5de3a92.svg\";","export default __webpack_public_path__ + \"imgs/social.90bbe0d86e1f00fd0666b954dd53983f.svg\";","export default __webpack_public_path__ + \"imgs/recreational.e584a76941cc7b156c5c7388892bc78c.svg\";","export default __webpack_public_path__ + \"imgs/diy.248c51205a09e739ca9975bf11621043.svg\";","export default __webpack_public_path__ + \"imgs/cooking.2059d863b5c2579c8fa31f243bbd0c54.svg\";","export default __webpack_public_path__ + \"imgs/education.b122915a224fb51bfa096624bb1a7de6.svg\";","export default __webpack_public_path__ + \"imgs/like-true.b61d119b5f76819c52f9d490178ad7cb.svg\";","export default __webpack_public_path__ + \"imgs/like-false.b00967356831f3bdc7c4529dc420ee5e.svg\";","import busyworkImg from '../assets/busywork.svg';\nimport charityImg from '../assets/charity.svg';\nimport relaxationImg from '../assets/relaxation.svg';\nimport musicImg from '../assets/music.svg';\nimport socialImg from '../assets/social.svg';\nimport recreationalImg from '../assets/recreational.svg';\nimport diyImg from '../assets/diy.svg';\nimport cookingImg from '../assets/cooking.svg';\nimport educationImg from '../assets/education.svg';\n\nimport likeTrueImg from '../assets/like-true.svg';\nimport likeFalseImg from '../assets/like-false.svg';\n\nexport const elements = {\n    nav: document.querySelector('#nav'),\n    menu: document.querySelector('#menu'),\n    likes: document.querySelector('#likes'),\n    activitySection: document.querySelector('#section1'),\n    main : document.querySelector('#main'),\n    likeToggle : document.querySelector('#like'),\n    body: document.querySelector('#body'),\n\n    whenSignedIn : document.getElementById('whenSignedIn'),\n    whenSignedOut : document.getElementById('whenSignedOut'),\n    signInBtn : document.getElementById('signInBtn'),\n    signOutBtn : document.getElementById('signOutBtn'),\n    userDetails : document.getElementById('userDetails'),\n\n    createAct : document.getElementById('createAct'),\n    actsList : document.getElementById('actsList'),\n    newAct : document.getElementById('newAct')\n};\n\nexport const getLikeImage = (liked) =>{\n  let likeImg;\n  if (liked) {\n    likeImg = likeTrueImg\n  } else {\n    likeImg = likeFalseImg\n  };\n  return likeImg\n}\n\nexport const getImage = (type) => {\n    let actImg;\n    switch (type) {\n      case 'busywork' :\n        actImg = busyworkImg;\n        break;\n      case 'charity' :\n        actImg = charityImg;\n        break;\n      case 'cooking' :\n        actImg = cookingImg;\n        break;\n      case 'diy' :\n        actImg = diyImg;\n        break;\n      case 'education' :\n        actImg = educationImg;\n        break;\n      case 'music' :\n        actImg = musicImg;\n        break;\n      case 'recreational' :\n        actImg = recreationalImg;\n        break;\n      case 'relaxation' :\n        actImg = relaxationImg;\n        break;\n      case 'social' :\n        actImg = socialImg;\n        break;\n      default :\n      actImg = '';\n    }\n\n    return actImg;\n}\n\nexport const renderLoader = parent => {\n    const markup = `\n    <svg id=\"loader\" class=\"animate-spin my-10 mx-auto h-16 w-16 text-center text-primary-200\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n    <circle class=\"opacity-50\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n    <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n  </svg> \n    `;\n    parent.insertAdjacentHTML('afterend', markup);\n};\n\nexport const clearLoader = () => {\n    const loader = document.querySelector('#loader');\n    if (loader) loader.parentElement.removeChild(loader);\n};","export default class Activy {\n\tconstructor(key = '', contributedData = undefined) {\n\t\t\tthis.key = key;\n\t\t\tthis.data = contributedData\n\t}\n\tasync getResults() {\n\t\tif (this.data == undefined){\n\t\t\ttry {\n\t\t\t\t// If key is empty or invalid, fetch random activity. Otherwise fetch specific activity by key\n\t\t\t\t// Bored API format: /activity for random, /activity?key={key} for specific\n\t\t\t\tconst url = this.key && this.key !== '' ? \n\t\t\t\t\t`https://bored-api.appbrewery.com/activity?key=${this.key}` :\n\t\t\t\t\t`https://bored-api.appbrewery.com/activity`;\n\t\t\t\tconst res = await fetch(url).then((response) => {\n\t\t\t\t\tif (!response.ok) {\n\t\t\t\t\t\tthrow new Error(`HTTP error! status: ${response.status}`);\n\t\t\t\t\t}\n\t\t\t\t\treturn response.json();\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t// Check if response has error property (Bored API returns {error: \"...\"} on failure)\n\t\t\t\tif (res.error) {\n\t\t\t\t\tconsole.error('API Error:', res.error);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.title = res.activity;\n\t\t\t\tthis.type = res.type;\n\t\t\t\tthis.people = res.participants;\n\t\t\t\tthis.price = res.price;\n\t\t\t\tthis.link = res.link;\n\t\t\t\tthis.access = res.accessibility;\n\t\t\t\tthis.liked = false;\n\t\t\t\tthis.key = res.key;\n\t\t\t\treturn res;\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Error fetching activity:', err);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.title = this.data.title;\n\t\t\tthis.type = this.data.type;\n\t\t\tthis.people = this.data.people;\n\t\t\tthis.price = this.data.price;\n\t\t\tthis.link = this.data.link;\n\t\t\tthis.access = this.data.access;\n\t\t\tthis.liked = !!this.data.liked;\n\t\t}\n\t}\n}\n","const db = firebase.firestore();\n\nexport default class AppActivity {\n\tconstructor(key) {\n\t\tthis.key = key;\n\t}\n\tasync getData() {\n\t\tconst activity = db.collection('activities').doc(`${this.key}`);\n\t\ttry {\n\t\t\tconst doc = await activity.get();\n\t\t\tif (!doc.exists) {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tthis.data = doc.data();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} catch (err) {\n\t\t\treturn false;\n\t\t}\n\t}\n\tasync updateLike(bool) {\n\t\tconst activity = db.collection('activities').doc(`${this.key}`);\n\t\ttry {\n\t\t\tconst oldDoc = await activity.get();\n\t\t\tif (!oldDoc.exists) {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tif (bool) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait activity.update({\n\t\t\t\t\t\t\tliked: oldDoc.data().liked + 1,\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait activity.update({\n\t\t\t\t\t\t\tliked: oldDoc.data().liked - 1,\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\treturn false;\n\t\t}\n\t}\n}\n","export default class Likes {\n    constructor(){\n        this.likes = [];\n    }\n    addLike(id, title, type) {\n        const key = parseInt(id);\n        const like = {key, title, type };\n        this.likes.push(like);\n\n        // Perist data in localStorage\n        this.persistData();\n        return true;\n    }\n\n    deleteLike(id) {\n        const index = this.likes.findIndex(el => el.key == id);\n        this.likes.splice(index, 1);\n        \n        // Perist data in localStorage\n        this.persistData();\n\n        return false\n    }\n\n    isLiked(id) {\n        const bool = this.likes.findIndex(el => el.key == id);\n        return bool !== -1;\n    }\n\n    getLast(){\n        return this.likes.length - 1\n    }\n\n    persistData() {\n        localStorage.setItem('likes', JSON.stringify(this.likes));\n    }\n\n    readStorage() {\n        const storage = JSON.parse(localStorage.getItem('likes'));\n        \n        // Restoring likes from the localStorage\n        if (storage) {this.likes = storage};\n    }\n}","export default __webpack_public_path__ + \"imgs/accesibility.68297b7bb8ebee64505429075ba45d46.svg\";","export default __webpack_public_path__ + \"imgs/price.369be4ac1120b25a6879b355281e713e.svg\";","export default __webpack_public_path__ + \"imgs/participants.a23b7c7aaece0ba39352ffcc61d60c6a.svg\";","import { elements, getImage, getLikeImage} from './base.js';\n\nimport accessImg from '../assets/accesibility.svg';\nimport priceImg from '../assets/price.svg';\nimport partImg from '../assets/participants.svg';\n\nexport const renderActivity = (activity, isLiked) => {\n  let markup;\n  if (activity != undefined){\n\n    markup = `     \n                  <div class=\"flex justify-between items-center \">\n              <h3 class=\"text-xl font-bold pl-6 capitalize\"><a href=\"#${\n                activity.link\n              }\">${activity.title}</a></h3>\n                  <div class=\"bg-primary-200 px-6 py-2 cursor-pointer\" id=\"like\">\n                      <img class=\"button hover:scale-110 \" src=\"${getLikeImage(isLiked)}\" alt=\"\" srcset=\"\">\n                  </div>\n              </div>\n              <div class=\"h-1 bg-primary-200\"></div>\n                  <div class=\"font-semibold flex flex-col md:flex-row justify-evenly items-center p-3\">            \n                      <h4>Categoria: <span class=\"font-bold capitalize\">${\n                        activity.type\n                      }</span></h4>\n                      <img src=\"${getImage(activity.type)}\" heigh=\"48\" width=\"48\">\n                      <h4>Participantes: <span class=\"font-bold\">${\n                        activity.people\n                      }</span></h4>\n                      <img src=\"${partImg}\" heigh=\"48\" width=\"48\">\n                      <h4>Accesibilidad: <span class=\"font-bold\">${Math.round(\n                        activity.access * 10\n                      )} / 10</span></h4>\n                      <img src=\"${accessImg}\" heigh=\"48\" width=\"48\">\n                      <h4>Precio: <span class=\"font-bold\">${Math.round(\n                        activity.price * 10\n                      )} / 10</span></h4>\n                      <img src=\"${priceImg}\" heigh=\"48\" width=\"48\">\n                  </div>\n      `;\n  }  else if(activity == undefined && isLiked == true) {\n    markup = `<div class=\"bg-gray-400 h-full w-full text-center\">\n    <h1 class=\"text-gray-800 font-extrabold p-6\">Para activar la funcionalidad de me gustas, debe registrarse</h1>\n  </div>`\n  } else {\n    markup = `<div class=\"bg-red-700 h-full w-full text-center\">\n    <h1 class=\"text-white font-extrabold p-6\">Error: puede deberse a permisos, conexion o falta de data. Intente de vuelta</h1>\n  </div>`\n  }\n  elements.activitySection.insertAdjacentHTML('afterbegin', markup);\n};\n\nexport const clearActivity = () => {\n\telements.activitySection.innerHTML = '';\n\t// window.location.hash = '';\n};\n","import { elements, getImage } from './base.js';\n\nexport const renderListItem = (activity) => {\n    const html = `\n            <li>\n              <a href=\"#${activity.key}\" class=\"border-primary-300 border-2 flex flex-row px-6 py-4 justify-evenly\">\n                <img src=\"${getImage(activity.type)}\" heigh=\"48\" width=\"48\">\n                <h4 class=\"text-base p-2\">${activity.title}</h4>\n              </a>\n            </li>`;\n    elements.likes.insertAdjacentHTML('beforeend', html);\n};\n\nexport const deleteListItem = id => {\n  if (id) {\n    const el = document.querySelector(`a[href*=\"${id}\"]`).parentElement;\n    if (el) el.parentElement.removeChild(el);\n  }\n}\n","import {\n\telements,\n\trenderLoader,\n\tclearLoader,\n\tgetLikeImage,\n} from './views/base.js';\nimport Activity from './modules/Activity.js';\nimport AppActivity from './modules/AppActivity.js';\nimport Like from './modules/Likes.js';\nimport * as activityView from './views/activityView.js';\nimport * as likesView from './views/likesView.js';\nimport './styles.css';\n// Todo:\n// - Filter actvities implmentations\n\nconst state = {};\nconst user = firebase.auth().currentUser;\nconst db = firebase.firestore();\n\nlet actsRef;\nlet userData;\nlet unsubscribe;\nlet counter;\n// ****** API LOGIC ******\n\n// *** ACTIVITY CONTROLLER ***\nconst controlActivity = async (id, contribution = undefined) => {\n\t// 1) Get existing id or generate random one\n\tconst key = parseInt(id, 10);\n\t\n\t// If no valid key and no contribution data, fetch random activity\n\tif (!key && !contribution) {\n\t\tstate.act = new Activity('', contribution);\n\t} else if (key) {\n\t\tstate.act = new Activity(key, contribution);\n\t} else {\n\t\tstate.act = new Activity('', contribution);\n\t}\n\n\t// 2) Prepare UI\n\tactivityView.clearActivity();\n\tclearLoader(elements.main);\n\trenderLoader(elements.main);\n\ttry {\n\t\t// 3) Fetch API data\n\t\tawait state.act.getResults();\n\t} catch (err) {\n\t\tconsole.error(err);\n\t}\n\tif (state.act.title != undefined) {\n\t\tlet liked;\n\t\t// 4) Render data\n\t\tif (user) {\n\t\t\tuserData = db.collection('users').doc(user.uid);\n\t\t\tliked = await userData.get().then((doc) => {\n\t\t\t\treturn doc.data().likes.some((i) => i.key == state.act.key)\n\t\t\t});\n\t\t} else {\n\t\t\tliked = state.like.isLiked(state.act.key);\n\t\t}\n\t\tclearLoader(elements.main);\n\t\tactivityView.renderActivity(state.act, liked);\n\n\t} else {\n\t\tactivityView.clearActivity();\n\t\tclearLoader(elements.main);\n\t\tactivityView.renderActivity(undefined, false);\n\t\tconsole.error('ERROR: Activiy not found, try again');\n\t\t// Remove like from the state only if we have a valid key\n\t\tif (key) {\n\t\t\tstate.act.liked = state.like.deleteLike(key);\n\t\t\t// Remove like from UI list\n\t\t\tlikesView.deleteListItem(key);\n\t\t}\n\t}\n};\n// *** APP CONTROLLER ***\nconst controlApp = async (likeType) => {\n\tif (state.app.key) {\n\t\ttry {\n\t\t\tawait state.app.updateLike(likeType);\n\t\t} catch (err) {\n\t\t\tconsole.error(err);\n\t\t}\n\t} else {\n\t\tconsole.error('Key not found');\n\t}\n};\n\n// *** LIKES CONTROLLER ***\nconst controlLike = async () => {\n\tactivityView.clearActivity();\n\tclearLoader(elements.main);\n\trenderLoader(elements.main);\n\n\tif (!state.like) {\n\t\tstate.like = new Like();\n\t}\n\n\t// User HAS liked current activity\n\tif (state.like.isLiked(state.act.key)) {\n\t\t// Remove like from the state\n\t\tstate.act.liked = state.like.deleteLike(state.act.key);\n\t\t// Remove like from UI list\n\t\tlikesView.deleteListItem(state.act.key);\n\t}\n\t// User HAS NOT liked current activity\n\telse {\n\t\t// Add like to the state\n\t\tstate.act.liked = state.like.addLike(\n\t\t\tstate.act.key,\n\t\t\tstate.act.title,\n\t\t\tstate.act.type\n\t\t);\n\t\t// Add like to UI list\n\t\tlikesView.renderListItem(state.act);\n\t}\n\tif (user) {\n\t\t// Add user information\n\t\tuserData = db.collection('users').doc(user.uid);\n\t\tuserData\n\t\t\t.get()\n\t\t\t.then(function (doc) {\n\t\t\t\tif (doc.exists) {\n\t\t\t\t\tstate.app = new AppActivity(parseInt(state.act.key));\n\t\t\t\t\tlet cloudData = doc.data().likes;\n\t\t\t\t\tstate.act.liked = cloudData.some((i) => i.key == state.act.key);\n\t\t\t\t\tif (state.act.liked) {\n\t\t\t\t\t\t// Update user likes\n\t\t\t\t\t\tconst index = cloudData.findIndex((el) => el.key == state.act.key);\n\t\t\t\t\t\tcloudData.splice(index, 1);\n\n\t\t\t\t\t\t// Update on app\n\t\t\t\t\t\tcontrolApp(false);\n\n\t\t\t\t\t\tstate.act.liked = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Update user likes\n\t\t\t\t\t\tcloudData.push({\n\t\t\t\t\t\t\tkey: parseInt(state.act.key),\n\t\t\t\t\t\t\ttitle: state.act.title,\n\t\t\t\t\t\t\ttype: state.act.type,\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// Update app\n\t\t\t\t\t\tcontrolApp(true);\n\n\t\t\t\t\t\tstate.act.liked = true;\n\t\t\t\t\t}\n\t\t\t\t\tuserData.set({ likes: cloudData });\n\t\t\t\t} else {\n\t\t\t\t\tuserData.set({\n\t\t\t\t\t\tlikes: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: parseInt(state.act.key),\n\t\t\t\t\t\t\t\ttitle: state.act.title,\n\t\t\t\t\t\t\t\ttype: state.act.type,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\tconsole.error('Error al buscar documento:', error);\n\t\t\t});\n\t}\n\t// Toggle the like button\n\tactivityView.clearActivity();\n\tclearLoader(elements.main);\n\tactivityView.renderActivity(state.act, state.act.liked);\n};\n\n// ****** APP FIRBASE LOGIC ******\n\n// *** AUTHENTICATION ***\nconst auth = firebase.default.auth();\n\nconst provider = new firebase.auth.GoogleAuthProvider();\n\nauth.onAuthStateChanged((user) => {\n\tif (user) {\n\t\t// signed in\n\t\telements.whenSignedIn.hidden = false;\n\t\telements.whenSignedOut.hidden = true;\n\t\telements.userDetails.innerHTML = `<h2 id=\"${user.uid}\">Hola <span class=\" font-bold\"> ${user.displayName}</span>!</h2><span>Para hacer <b>sync </b>de tus me gustas ponle me gusta a cualquier actividad!</p>`;\n\t} else {\n\t\t// not signed in\n\t\telements.whenSignedIn.hidden = true;\n\t\telements.whenSignedOut.hidden = false;\n\t\telements.userDetails.innerHTML = '';\n\t}\n});\n\n// *** FIRESTORE DATABASE ***\n\n\nauth.onAuthStateChanged((user) => {\n\tif (user) {\n\t\tuserData = db.collection('users').doc(user.uid);\n\t\tuserData.get().then(function (doc) {\n\t\t\t\tif (doc.exists) {\n\t\t\t\t\tlet cloudData = doc.data().likes;\n\t\t\t\t\tuserData.set({ likes: cloudData });\n\n\t\t\t\t\tstate.like.likes.forEach(like => likesView.deleteListItem(like.key))\n\t\t\t\t\tstate.like.likes = cloudData;\n\t\t\t\t\tstate.like.likes.forEach(like => likesView.renderListItem(like));}\n\t\t\t\t})\n\t\t\t\t.catch(function (error) {\n\t\t\t\t\tconsole.error('Error al buscar documento:', error);\n\t\t\t\t});\n\t\tactsRef = db.collection('activities');\n\n\t\telements.createAct.onclick = () => {\n\t\t\tif (elements.newAct.elements.name.value != false) {\n\t\t\t\tconst actAdd = {\n\t\t\t\t\tkey: 1000001 + counter,\n\t\t\t\t\tuid: user.uid,\n\t\t\t\t\tuname: user.displayName,\n\t\t\t\t\ttitle: elements.newAct.elements.name.value,\n\t\t\t\t\ttype: elements.newAct.elements.type.value,\n\t\t\t\t\tpeople: parseInt(elements.newAct.elements.participants.value),\n\t\t\t\t\tprice: elements.newAct.elements.price.value / 10,\n\t\t\t\t\taccess: elements.newAct.elements.accesibility.value / 10,\n\t\t\t\t\tcreatedAt: firebase.firestore.FieldValue.serverTimestamp(),\n\t\t\t\t\tlink: '',\n\t\t\t\t\tliked: 0,\n\t\t\t\t};\n\n\t\t\t\t// Integration with Client Side API logic\n\t\t\t\tcontrolActivity(actAdd.key, actAdd);\n\t\t\t\tactsRef.doc(`${actAdd.key}`).set(actAdd);\n\t\t\t\t// Add like to the state\n\t\t\t\tstate.act.liked = state.like.addLike(\n\t\t\t\t\tactAdd.key,\n\t\t\t\t\tactAdd.title,\n\t\t\t\t\tactAdd.type\n\t\t\t\t);\n\t\t\t\t// Add like to UI list\n\t\t\t\tlikesView.renderListItem(state.act);\n\t\t\t\tfor (let i = 0; i < elements.newAct.elements.length; i++) {\n\t\t\t\t\telements.newAct.elements[i].value = '';\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t// Query\n\t\tunsubscribe = actsRef\n\t\t\t.orderBy('createdAt') // Requires a query\n\t\t\t.onSnapshot((querySnapshot) => {\n\t\t\t\tcounter = querySnapshot.docs.length;\n\t\t\t\t// Map results to an array of li elements\n\t\t\t\tconst items = querySnapshot.docs.map((doc) => {\n\t\t\t\t\treturn `<li id=\"like-${\n\t\t\t\t\t\tdoc.data().key\n\t\t\t\t\t}\"class=\"list-decimal list-inside flex flex-row items-center m-4 border-primary-200 p-4 border-4 rounded-lg bg-primary-300 text-white\"><h4 class=\"mx-2 text-base\"><a href=\"#${\n\t\t\t\t\t\tdoc.data().key\n\t\t\t\t\t}\" class=\"font-bold cursor-pointer hover:scale-95\">${\n\t\t\t\t\t\tdoc.data().title\n\t\t\t\t\t}- agregada por <span class=\"italic\">${\n\t\t\t\t\t\tdoc.data().uname\n\t\t\t\t\t}</span></h4><div class=\"flex flex-col md:flex-row border-primary-200 border-2 rounded-md p-2 bg-primary-300 mx-3 my-0 cursor-pointer ml-auto\" >\n\t\t\t\t\t<h4 class=\"text-3xl mx-2\">${doc.data().liked}</h4>\n\t\t\t\t\t<img class=\"button hover:scale-110 mx-2\" src=\"${getLikeImage(\n\t\t\t\t\t\ttrue\n\t\t\t\t\t)}\" alt=\"\" srcset=\"\"></img>\n\t\t\t\t</div></a> </li>`;\n\t\t\t\t});\n\t\t\t\telements.actsList.innerHTML = items.join('');\n\t\t\t});\n\t} else {\n\t\t// Unsubscribe when the user signs out\n\t\tstate.app = null;\n\t\tunsubscribe && unsubscribe();\n\t}\n});\n\n// *** EVENT HANDLING ***\n/// Sign in event handlers\nelements.signInBtn.onclick = () => auth.signInWithPopup(provider);\nelements.signOutBtn.onclick = () => {\n\tauth.signOut();\n\tstate.like.likes.forEach(like => likesView.deleteListItem(like.key))\n\tstate.like = new Like();\n\twindow.location.hash = '';\n\tstate.like.readStorage();\n\tstate.like.likes.forEach((like) => likesView.renderListItem(like));\n}\n\nelements.nav.addEventListener('click', (e) => {\n\tif (e.target.matches('#likesBtn, #likesBtn *')) {\n\t\t// Handle Likes Button\n\t\tif (elements.likes.classList.contains('hidden')) {\n\t\t\telements.likes.classList.remove('hidden');\n\t\t} else {\n\t\t\telements.likes.classList.add('hidden');\n\t\t}\n\t\t// Handle Menu\n\t} else if (e.target.matches('#burger, #burger *')) {\n\t\tif (elements.menu.classList.contains('hidden')) {\n\t\t\telements.menu.classList.remove('hidden');\n\t\t} else {\n\t\t\telements.menu.classList.add('hidden');\n\t\t}\n\t}\n});\nelements.body.addEventListener('click', (e) => {\n\t// Toggle like button\n\n\tif (e.target.matches('#like, #like *')) {\n\t\tcontrolLike();\n\t\t// Generate new activity\n\t} else if (\n\t\te.target.matches('#generate, #generate *') ||\n\t\te.target.matches('#createAct, #createAct *')\n\t) {\n\t\tcontrolActivity();\n\t\tif (elements.activitySection.classList.contains('hidden')) {\n\t\t\telements.activitySection.classList.remove('hidden');\n\t\t}\n\t}\n});\n\n// Check for inputted activity\nwindow.addEventListener('hashchange', async function () {\n\tconst id = window.location.hash.replace('#', '');\n\t\n\t// If hash is empty, hide activity section and clear loader\n\tif (!id || id.trim() === '') {\n\t\tactivityView.clearActivity();\n\t\tclearLoader(elements.main);\n\t\tif (!elements.activitySection.classList.contains('hidden')) {\n\t\t\telements.activitySection.classList.add('hidden');\n\t\t}\n\t\treturn;\n\t}\n\t\n\tactivityView.clearActivity();\n\tclearLoader(elements.main);\n\trenderLoader(elements.main);\n\tif (elements.activitySection.classList.contains('hidden')) {\n\t\telements.activitySection.classList.remove('hidden');\n\t}\n\t\n\tstate.app = new AppActivity(parseInt(id));\n\tif (id >= 1000000 && id <= 9999999) {\n\t\ttry {\n\t\t\tconst call = await state.app.getData();\n\t\t\tclearLoader(elements.main)\n\t\t\tif (call) {\n\t\t\t\tcontrolActivity(id, state.app.data);\n\t\t\t} else {\n\t\t\t\tcontrolActivity(id);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('Something went wrong');\n\t\t\tconsole.error(err);\n\t\t\tclearLoader(elements.main);\n\t\t}\n\t\tif (elements.activitySection.classList.contains('hidden')) {\n\t\t\telements.activitySection.classList.remove('hidden');\n\t\t}\n\t} else {\n\t\t// Invalid ID format, clear loader and hide section\n\t\tclearLoader(elements.main);\n\t\tif (!elements.activitySection.classList.contains('hidden')) {\n\t\t\telements.activitySection.classList.add('hidden');\n\t\t}\n\t}\n});\n\n// Restore liked recipes on page load\nwindow.addEventListener('load', () => {\n\tchangeLanguageByButtonClick()\n\tstate.like = new Like();\n\t\n\t// Ensure activity section is hidden on initial load\n\tactivityView.clearActivity();\n\tclearLoader(elements.main);\n\tif (!elements.activitySection.classList.contains('hidden')) {\n\t\telements.activitySection.classList.add('hidden');\n\t}\n\t\n\twindow.location.hash = '';\n\t// Restore likes\n\tstate.like.readStorage();\n\n\t// Render the existing likes\n\tstate.like.likes.forEach((like) => likesView.renderListItem(like));\n});\n"],"sourceRoot":""}