{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/busywork.svg","webpack:///./src/assets/charity.svg","webpack:///./src/assets/relaxation.svg","webpack:///./src/assets/music.svg","webpack:///./src/assets/social.svg","webpack:///./src/assets/recreational.svg","webpack:///./src/assets/diy.svg","webpack:///./src/assets/cooking.svg","webpack:///./src/assets/education.svg","webpack:///./src/assets/like-true.svg","webpack:///./src/assets/like-false.svg","webpack:///./src/views/base.js","webpack:///./src/modules/Activity.js","webpack:///./src/modules/AppActivity.js","webpack:///./src/modules/Likes.js","webpack:///./src/assets/accesibility.svg","webpack:///./src/assets/price.svg","webpack:///./src/assets/participants.svg","webpack:///./src/views/activityView.js","webpack:///./src/views/likesView.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","nav","document","querySelector","menu","likes","activitySection","main","likeToggle","body","whenSignedIn","getElementById","whenSignedOut","signInBtn","signOutBtn","userDetails","createAct","actsList","newAct","getLikeImage","liked","likeImg","getImage","type","actImg","busywork","charity","cooking","diy","education","music","recreational","relaxation","social","renderLoader","parent","insertAdjacentHTML","clearLoader","loader","parentElement","removeChild","Activy","contributedData","this","data","undefined","url","isNaN","response","fetch","ok","status","console","error","res","json","activity","title","people","participants","price","link","access","accessibility","err","db","firebase","firestore","AppActivity","collection","doc","exists","bool","oldDoc","update","Likes","id","like","parseInt","push","persistData","index","findIndex","el","splice","length","localStorage","setItem","JSON","stringify","storage","parse","getItem","renderActivity","isLiked","classList","contains","markup","Math","round","clearActivity","innerHTML","renderListItem","html","deleteListItem","state","auth","currentUser","actsRef","userData","unsubscribe","counter","controlActivity","async","contribution","act","getResults","uid","then","some","add","deleteLike","controlApp","likeType","app","updateLike","default","provider","GoogleAuthProvider","onAuthStateChanged","user","hidden","displayName","cloudData","set","forEach","catch","onclick","elements","actAdd","uname","accesibility","createdAt","FieldValue","serverTimestamp","addLike","orderBy","onSnapshot","querySnapshot","docs","items","map","join","signInWithPopup","signOut","window","location","hash","readStorage","addEventListener","e","target","matches","remove","controlLike","replace","trim","numericId","getData","changeLanguageByButtonClick","currentHash"],"mappings":"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","file":"main.30a3dbd2e083b8a4cb4f.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","export default __webpack_public_path__ + \"imgs/busywork.c8b68bdfbe524d73211081b9f13b0eef.svg\";","export default __webpack_public_path__ + \"imgs/charity.f15fc99644f13ad53879b4dfb5becf43.svg\";","export default __webpack_public_path__ + \"imgs/relaxation.fa1d5b6ddaf8b2511448a31a9ccfb08a.svg\";","export default __webpack_public_path__ + \"imgs/music.b7f3ce702efdb2d3c4baad72c5de3a92.svg\";","export default __webpack_public_path__ + \"imgs/social.90bbe0d86e1f00fd0666b954dd53983f.svg\";","export default __webpack_public_path__ + \"imgs/recreational.e584a76941cc7b156c5c7388892bc78c.svg\";","export default __webpack_public_path__ + \"imgs/diy.248c51205a09e739ca9975bf11621043.svg\";","export default __webpack_public_path__ + \"imgs/cooking.2059d863b5c2579c8fa31f243bbd0c54.svg\";","export default __webpack_public_path__ + \"imgs/education.b122915a224fb51bfa096624bb1a7de6.svg\";","export default __webpack_public_path__ + \"imgs/like-true.b61d119b5f76819c52f9d490178ad7cb.svg\";","export default __webpack_public_path__ + \"imgs/like-false.b00967356831f3bdc7c4529dc420ee5e.svg\";","import busyworkImg from '../assets/busywork.svg';\nimport charityImg from '../assets/charity.svg';\nimport relaxationImg from '../assets/relaxation.svg';\nimport musicImg from '../assets/music.svg';\nimport socialImg from '../assets/social.svg';\nimport recreationalImg from '../assets/recreational.svg';\nimport diyImg from '../assets/diy.svg';\nimport cookingImg from '../assets/cooking.svg';\nimport educationImg from '../assets/education.svg';\n\nimport likeTrueImg from '../assets/like-true.svg';\nimport likeFalseImg from '../assets/like-false.svg';\n\nexport const elements = {\n    nav: document.querySelector('#nav'),\n    menu: document.querySelector('#menu'),\n    likes: document.querySelector('#likes'),\n    activitySection: document.querySelector('#section1'),\n    main : document.querySelector('#main'),\n    likeToggle : document.querySelector('#like'),\n    body: document.querySelector('#body'),\n\n    whenSignedIn : document.getElementById('whenSignedIn'),\n    whenSignedOut : document.getElementById('whenSignedOut'),\n    signInBtn : document.getElementById('signInBtn'),\n    signOutBtn : document.getElementById('signOutBtn'),\n    userDetails : document.getElementById('userDetails'),\n\n    createAct : document.getElementById('createAct'),\n    actsList : document.getElementById('actsList'),\n    newAct : document.getElementById('newAct')\n};\n\nexport const getLikeImage = (liked) =>{\n  let likeImg;\n  if (liked) {\n    likeImg = likeTrueImg\n  } else {\n    likeImg = likeFalseImg\n  };\n  return likeImg\n}\n\nexport const getImage = (type) => {\n    let actImg;\n    switch (type) {\n      case 'busywork' :\n        actImg = busyworkImg;\n        break;\n      case 'charity' :\n        actImg = charityImg;\n        break;\n      case 'cooking' :\n        actImg = cookingImg;\n        break;\n      case 'diy' :\n        actImg = diyImg;\n        break;\n      case 'education' :\n        actImg = educationImg;\n        break;\n      case 'music' :\n        actImg = musicImg;\n        break;\n      case 'recreational' :\n        actImg = recreationalImg;\n        break;\n      case 'relaxation' :\n        actImg = relaxationImg;\n        break;\n      case 'social' :\n        actImg = socialImg;\n        break;\n      default :\n      actImg = '';\n    }\n\n    return actImg;\n}\n\nexport const renderLoader = parent => {\n    const markup = `\n    <svg id=\"loader\" class=\"animate-spin my-10 mx-auto h-16 w-16 text-center text-primary-200\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n    <circle class=\"opacity-50\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n    <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n  </svg> \n    `;\n    parent.insertAdjacentHTML('afterend', markup);\n};\n\nexport const clearLoader = () => {\n    const loader = document.querySelector('#loader');\n    if (loader) loader.parentElement.removeChild(loader);\n};","export default class Activy {\n\tconstructor(key = '', contributedData = undefined) {\n\t\t\tthis.key = key;\n\t\t\tthis.data = contributedData\n\t}\n\tasync getResults() {\n\t\tif (this.data == undefined){\n\t\t\ttry {\n\t\t\t\t// If key is empty or invalid, fetch random activity. Otherwise fetch specific activity by key\n\t\t\t\t// Bored API format: /activity for random, /activity/{key} for specific activity\n\t\t\t\tconst url = this.key && this.key !== '' && !isNaN(this.key) ? \n\t\t\t\t\t`https://bored-api.appbrewery.com/activity/${this.key}` :\n\t\t\t\t\t`https://bored-api.appbrewery.com/activity`;\n\t\t\t\tconst response = await fetch(url);\n\t\t\t\t\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\t// Handle rate limiting or other HTTP errors\n\t\t\t\t\tif (response.status === 429) {\n\t\t\t\t\t\tconsole.error('API rate limit exceeded. Please try again later.');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error(`HTTP error! status: ${response.status}`);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tconst res = await response.json();\n\t\t\t\t\n\t\t\t\t// Check if response has error property (Bored API returns {error: \"...\"} on failure)\n\t\t\t\tif (res.error) {\n\t\t\t\t\tconsole.error('API Error:', res.error);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// Validate response has required fields\n\t\t\t\tif (!res.activity || res.activity === '') {\n\t\t\t\t\tconsole.error('Invalid API response: missing activity field');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.title = res.activity;\n\t\t\t\tthis.type = res.type;\n\t\t\t\tthis.people = res.participants;\n\t\t\t\tthis.price = res.price;\n\t\t\t\tthis.link = res.link || '';\n\t\t\t\tthis.access = res.accessibility;\n\t\t\t\tthis.liked = false;\n\t\t\t\tthis.key = res.key;\n\t\t\t\treturn res;\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Error fetching activity:', err);\n\t\t\t\t// Don't throw - let the calling code handle undefined title\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else {\n\t\t\tthis.title = this.data.title;\n\t\t\tthis.type = this.data.type;\n\t\t\tthis.people = this.data.people;\n\t\t\tthis.price = this.data.price;\n\t\t\tthis.link = this.data.link;\n\t\t\tthis.access = this.data.access;\n\t\t\tthis.liked = !!this.data.liked;\n\t\t}\n\t}\n}\n","const db = firebase.firestore();\n\nexport default class AppActivity {\n\tconstructor(key) {\n\t\tthis.key = key;\n\t}\n\tasync getData() {\n\t\tconst activity = db.collection('activities').doc(`${this.key}`);\n\t\ttry {\n\t\t\tconst doc = await activity.get();\n\t\t\tif (!doc.exists) {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tthis.data = doc.data();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} catch (err) {\n\t\t\treturn false;\n\t\t}\n\t}\n\tasync updateLike(bool) {\n\t\tconst activity = db.collection('activities').doc(`${this.key}`);\n\t\ttry {\n\t\t\tconst oldDoc = await activity.get();\n\t\t\tif (!oldDoc.exists) {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tif (bool) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait activity.update({\n\t\t\t\t\t\t\tliked: oldDoc.data().liked + 1,\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait activity.update({\n\t\t\t\t\t\t\tliked: oldDoc.data().liked - 1,\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\treturn false;\n\t\t}\n\t}\n}\n","export default class Likes {\n    constructor(){\n        this.likes = [];\n    }\n    addLike(id, title, type) {\n        const key = parseInt(id);\n        const like = {key, title, type };\n        this.likes.push(like);\n\n        // Perist data in localStorage\n        this.persistData();\n        return true;\n    }\n\n    deleteLike(id) {\n        const index = this.likes.findIndex(el => el.key == id);\n        this.likes.splice(index, 1);\n        \n        // Perist data in localStorage\n        this.persistData();\n\n        return false\n    }\n\n    isLiked(id) {\n        const bool = this.likes.findIndex(el => el.key == id);\n        return bool !== -1;\n    }\n\n    getLast(){\n        return this.likes.length - 1\n    }\n\n    persistData() {\n        localStorage.setItem('likes', JSON.stringify(this.likes));\n    }\n\n    readStorage() {\n        const storage = JSON.parse(localStorage.getItem('likes'));\n        \n        // Restoring likes from the localStorage\n        if (storage) {this.likes = storage};\n    }\n}","export default __webpack_public_path__ + \"imgs/accesibility.68297b7bb8ebee64505429075ba45d46.svg\";","export default __webpack_public_path__ + \"imgs/price.369be4ac1120b25a6879b355281e713e.svg\";","export default __webpack_public_path__ + \"imgs/participants.a23b7c7aaece0ba39352ffcc61d60c6a.svg\";","import { elements, getImage, getLikeImage} from './base.js';\n\nimport accessImg from '../assets/accesibility.svg';\nimport priceImg from '../assets/price.svg';\nimport partImg from '../assets/participants.svg';\n\nexport const renderActivity = (activity, isLiked) => {\n  // Don't render anything if activity section should be hidden\n  if (elements.activitySection.classList.contains('hidden')) {\n    return;\n  }\n  \n  let markup;\n  if (activity != undefined && activity.title != undefined){\n\n    markup = `     \n                  <div class=\"flex justify-between items-center \">\n              <h3 class=\"text-xl font-bold pl-6 capitalize\"><a href=\"#${\n                activity.link || ''\n              }\">${activity.title}</a></h3>\n                  <div class=\"bg-primary-200 px-6 py-2 cursor-pointer\" id=\"like\">\n                      <img class=\"button hover:scale-110 \" src=\"${getLikeImage(isLiked)}\" alt=\"\" srcset=\"\">\n                  </div>\n              </div>\n              <div class=\"h-1 bg-primary-200\"></div>\n                  <div class=\"font-semibold flex flex-col md:flex-row justify-evenly items-center p-3\">            \n                      <h4>Categoria: <span class=\"font-bold capitalize\">${\n                        activity.type\n                      }</span></h4>\n                      <img src=\"${getImage(activity.type)}\" heigh=\"48\" width=\"48\">\n                      <h4>Participantes: <span class=\"font-bold\">${\n                        activity.people\n                      }</span></h4>\n                      <img src=\"${partImg}\" heigh=\"48\" width=\"48\">\n                      <h4>Accesibilidad: <span class=\"font-bold\">${Math.round(\n                        activity.access * 10\n                      )} / 10</span></h4>\n                      <img src=\"${accessImg}\" heigh=\"48\" width=\"48\">\n                      <h4>Precio: <span class=\"font-bold\">${Math.round(\n                        activity.price * 10\n                      )} / 10</span></h4>\n                      <img src=\"${priceImg}\" heigh=\"48\" width=\"48\">\n                  </div>\n      `;\n  }  else if(activity == undefined && isLiked == true) {\n    markup = `<div class=\"bg-gray-400 h-full w-full text-center\">\n    <h1 class=\"text-gray-800 font-extrabold p-6\">Para activar la funcionalidad de me gustas, debe registrarse</h1>\n  </div>`\n  } else {\n    // Only show error if section is visible (not hidden)\n    markup = `<div class=\"bg-red-700 h-full w-full text-center\">\n    <h1 class=\"text-white font-extrabold p-6\">Error: puede deberse a permisos, conexion o falta de data. Intente de vuelta</h1>\n  </div>`\n  }\n  elements.activitySection.insertAdjacentHTML('afterbegin', markup);\n};\n\nexport const clearActivity = () => {\n\telements.activitySection.innerHTML = '';\n\t// window.location.hash = '';\n};\n","import { elements, getImage } from './base.js';\n\nexport const renderListItem = (activity) => {\n    const html = `\n            <li>\n              <a href=\"#${activity.key}\" class=\"border-primary-300 border-2 flex flex-row px-6 py-4 justify-evenly\">\n                <img src=\"${getImage(activity.type)}\" heigh=\"48\" width=\"48\">\n                <h4 class=\"text-base p-2\">${activity.title}</h4>\n              </a>\n            </li>`;\n    elements.likes.insertAdjacentHTML('beforeend', html);\n};\n\nexport const deleteListItem = id => {\n  if (id) {\n    const el = document.querySelector(`a[href*=\"${id}\"]`).parentElement;\n    if (el) el.parentElement.removeChild(el);\n  }\n}\n","import {\n\telements,\n\trenderLoader,\n\tclearLoader,\n\tgetLikeImage,\n} from './views/base.js';\nimport Activity from './modules/Activity.js';\nimport AppActivity from './modules/AppActivity.js';\nimport Like from './modules/Likes.js';\nimport * as activityView from './views/activityView.js';\nimport * as likesView from './views/likesView.js';\nimport './styles.css';\n// Todo:\n// - Filter actvities implmentations\n\nconst state = {};\nconst user = firebase.auth().currentUser;\nconst db = firebase.firestore();\n\nlet actsRef;\nlet userData;\nlet unsubscribe;\nlet counter;\n// ****** API LOGIC ******\n\n// *** ACTIVITY CONTROLLER ***\nconst controlActivity = async (id, contribution = undefined) => {\n\t// 1) Get existing id or generate random one\n\tconst key = parseInt(id, 10);\n\t\n\t// If no valid key and no contribution data, fetch random activity\n\tif (!key && !contribution) {\n\t\tstate.act = new Activity('', contribution);\n\t} else if (key) {\n\t\tstate.act = new Activity(key, contribution);\n\t} else {\n\t\tstate.act = new Activity('', contribution);\n\t}\n\n\t// 2) Prepare UI\n\tactivityView.clearActivity();\n\tclearLoader(elements.main);\n\trenderLoader(elements.main);\n\ttry {\n\t\t// 3) Fetch API data\n\t\tawait state.act.getResults();\n\t} catch (err) {\n\t\tconsole.error(err);\n\t}\n\tif (state.act.title != undefined) {\n\t\tlet liked;\n\t\t// 4) Render data\n\t\tif (user) {\n\t\t\tuserData = db.collection('users').doc(user.uid);\n\t\t\tliked = await userData.get().then((doc) => {\n\t\t\t\treturn doc.data().likes.some((i) => i.key == state.act.key)\n\t\t\t});\n\t\t} else {\n\t\t\tliked = state.like.isLiked(state.act.key);\n\t\t}\n\t\tclearLoader(elements.main);\n\t\tactivityView.renderActivity(state.act, liked);\n\n\t} else {\n\t\t// API call failed or returned no data\n\t\tactivityView.clearActivity();\n\t\tclearLoader(elements.main);\n\t\t// Always hide section on failure - don't show error messages\n\t\t// This prevents errors from showing on page load or rate limits\n\t\tif (!elements.activitySection.classList.contains('hidden')) {\n\t\t\telements.activitySection.classList.add('hidden');\n\t\t}\n\t\t\n\t\tif (key) {\n\t\t\tconsole.error('ERROR: Activity not found, try again');\n\t\t\t// Remove like from the state\n\t\t\tstate.act.liked = state.like.deleteLike(key);\n\t\t\t// Remove like from UI list\n\t\t\tlikesView.deleteListItem(key);\n\t\t} else {\n\t\t\tconsole.error('ERROR: Could not fetch activity. The API may be rate-limited. Please try again in a moment.');\n\t\t}\n\t}\n};\n// *** APP CONTROLLER ***\nconst controlApp = async (likeType) => {\n\tif (state.app.key) {\n\t\ttry {\n\t\t\tawait state.app.updateLike(likeType);\n\t\t} catch (err) {\n\t\t\tconsole.error(err);\n\t\t}\n\t} else {\n\t\tconsole.error('Key not found');\n\t}\n};\n\n// *** LIKES CONTROLLER ***\nconst controlLike = async () => {\n\tactivityView.clearActivity();\n\tclearLoader(elements.main);\n\trenderLoader(elements.main);\n\n\tif (!state.like) {\n\t\tstate.like = new Like();\n\t}\n\n\t// User HAS liked current activity\n\tif (state.like.isLiked(state.act.key)) {\n\t\t// Remove like from the state\n\t\tstate.act.liked = state.like.deleteLike(state.act.key);\n\t\t// Remove like from UI list\n\t\tlikesView.deleteListItem(state.act.key);\n\t}\n\t// User HAS NOT liked current activity\n\telse {\n\t\t// Add like to the state\n\t\tstate.act.liked = state.like.addLike(\n\t\t\tstate.act.key,\n\t\t\tstate.act.title,\n\t\t\tstate.act.type\n\t\t);\n\t\t// Add like to UI list\n\t\tlikesView.renderListItem(state.act);\n\t}\n\tif (user) {\n\t\t// Add user information\n\t\tuserData = db.collection('users').doc(user.uid);\n\t\tuserData\n\t\t\t.get()\n\t\t\t.then(function (doc) {\n\t\t\t\tif (doc.exists) {\n\t\t\t\t\tstate.app = new AppActivity(parseInt(state.act.key));\n\t\t\t\t\tlet cloudData = doc.data().likes;\n\t\t\t\t\tstate.act.liked = cloudData.some((i) => i.key == state.act.key);\n\t\t\t\t\tif (state.act.liked) {\n\t\t\t\t\t\t// Update user likes\n\t\t\t\t\t\tconst index = cloudData.findIndex((el) => el.key == state.act.key);\n\t\t\t\t\t\tcloudData.splice(index, 1);\n\n\t\t\t\t\t\t// Update on app\n\t\t\t\t\t\tcontrolApp(false);\n\n\t\t\t\t\t\tstate.act.liked = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Update user likes\n\t\t\t\t\t\tcloudData.push({\n\t\t\t\t\t\t\tkey: parseInt(state.act.key),\n\t\t\t\t\t\t\ttitle: state.act.title,\n\t\t\t\t\t\t\ttype: state.act.type,\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// Update app\n\t\t\t\t\t\tcontrolApp(true);\n\n\t\t\t\t\t\tstate.act.liked = true;\n\t\t\t\t\t}\n\t\t\t\t\tuserData.set({ likes: cloudData });\n\t\t\t\t} else {\n\t\t\t\t\tuserData.set({\n\t\t\t\t\t\tlikes: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: parseInt(state.act.key),\n\t\t\t\t\t\t\t\ttitle: state.act.title,\n\t\t\t\t\t\t\t\ttype: state.act.type,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\tconsole.error('Error al buscar documento:', error);\n\t\t\t});\n\t}\n\t// Toggle the like button\n\tactivityView.clearActivity();\n\tclearLoader(elements.main);\n\tactivityView.renderActivity(state.act, state.act.liked);\n};\n\n// ****** APP FIRBASE LOGIC ******\n\n// *** AUTHENTICATION ***\nconst auth = firebase.default.auth();\n\nconst provider = new firebase.auth.GoogleAuthProvider();\n\nauth.onAuthStateChanged((user) => {\n\tif (user) {\n\t\t// signed in\n\t\telements.whenSignedIn.hidden = false;\n\t\telements.whenSignedOut.hidden = true;\n\t\telements.userDetails.innerHTML = `<h2 id=\"${user.uid}\">Hola <span class=\" font-bold\"> ${user.displayName}</span>!</h2><span>Para hacer <b>sync </b>de tus me gustas ponle me gusta a cualquier actividad!</p>`;\n\t} else {\n\t\t// not signed in\n\t\telements.whenSignedIn.hidden = true;\n\t\telements.whenSignedOut.hidden = false;\n\t\telements.userDetails.innerHTML = '';\n\t}\n});\n\n// *** FIRESTORE DATABASE ***\n\n\nauth.onAuthStateChanged((user) => {\n\tif (user) {\n\t\tuserData = db.collection('users').doc(user.uid);\n\t\tuserData.get().then(function (doc) {\n\t\t\t\tif (doc.exists) {\n\t\t\t\t\tlet cloudData = doc.data().likes;\n\t\t\t\t\tuserData.set({ likes: cloudData });\n\n\t\t\t\t\tstate.like.likes.forEach(like => likesView.deleteListItem(like.key))\n\t\t\t\t\tstate.like.likes = cloudData;\n\t\t\t\t\tstate.like.likes.forEach(like => likesView.renderListItem(like));}\n\t\t\t\t})\n\t\t\t\t.catch(function (error) {\n\t\t\t\t\tconsole.error('Error al buscar documento:', error);\n\t\t\t\t});\n\t\tactsRef = db.collection('activities');\n\n\t\telements.createAct.onclick = () => {\n\t\t\tif (elements.newAct.elements.name.value != false) {\n\t\t\t\tconst actAdd = {\n\t\t\t\t\tkey: 1000001 + counter,\n\t\t\t\t\tuid: user.uid,\n\t\t\t\t\tuname: user.displayName,\n\t\t\t\t\ttitle: elements.newAct.elements.name.value,\n\t\t\t\t\ttype: elements.newAct.elements.type.value,\n\t\t\t\t\tpeople: parseInt(elements.newAct.elements.participants.value),\n\t\t\t\t\tprice: elements.newAct.elements.price.value / 10,\n\t\t\t\t\taccess: elements.newAct.elements.accesibility.value / 10,\n\t\t\t\t\tcreatedAt: firebase.firestore.FieldValue.serverTimestamp(),\n\t\t\t\t\tlink: '',\n\t\t\t\t\tliked: 0,\n\t\t\t\t};\n\n\t\t\t\t// Integration with Client Side API logic\n\t\t\t\tcontrolActivity(actAdd.key, actAdd);\n\t\t\t\tactsRef.doc(`${actAdd.key}`).set(actAdd);\n\t\t\t\t// Add like to the state\n\t\t\t\tstate.act.liked = state.like.addLike(\n\t\t\t\t\tactAdd.key,\n\t\t\t\t\tactAdd.title,\n\t\t\t\t\tactAdd.type\n\t\t\t\t);\n\t\t\t\t// Add like to UI list\n\t\t\t\tlikesView.renderListItem(state.act);\n\t\t\t\tfor (let i = 0; i < elements.newAct.elements.length; i++) {\n\t\t\t\t\telements.newAct.elements[i].value = '';\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t// Query\n\t\tunsubscribe = actsRef\n\t\t\t.orderBy('createdAt') // Requires a query\n\t\t\t.onSnapshot((querySnapshot) => {\n\t\t\t\tcounter = querySnapshot.docs.length;\n\t\t\t\t// Map results to an array of li elements\n\t\t\t\tconst items = querySnapshot.docs.map((doc) => {\n\t\t\t\t\treturn `<li id=\"like-${\n\t\t\t\t\t\tdoc.data().key\n\t\t\t\t\t}\"class=\"list-decimal list-inside flex flex-row items-center m-4 border-primary-200 p-4 border-4 rounded-lg bg-primary-300 text-white\"><h4 class=\"mx-2 text-base\"><a href=\"#${\n\t\t\t\t\t\tdoc.data().key\n\t\t\t\t\t}\" class=\"font-bold cursor-pointer hover:scale-95\">${\n\t\t\t\t\t\tdoc.data().title\n\t\t\t\t\t}- agregada por <span class=\"italic\">${\n\t\t\t\t\t\tdoc.data().uname\n\t\t\t\t\t}</span></h4><div class=\"flex flex-col md:flex-row border-primary-200 border-2 rounded-md p-2 bg-primary-300 mx-3 my-0 cursor-pointer ml-auto\" >\n\t\t\t\t\t<h4 class=\"text-3xl mx-2\">${doc.data().liked}</h4>\n\t\t\t\t\t<img class=\"button hover:scale-110 mx-2\" src=\"${getLikeImage(\n\t\t\t\t\t\ttrue\n\t\t\t\t\t)}\" alt=\"\" srcset=\"\"></img>\n\t\t\t\t</div></a> </li>`;\n\t\t\t\t});\n\t\t\t\telements.actsList.innerHTML = items.join('');\n\t\t\t});\n\t} else {\n\t\t// Unsubscribe when the user signs out\n\t\tstate.app = null;\n\t\tunsubscribe && unsubscribe();\n\t}\n});\n\n// *** EVENT HANDLING ***\n/// Sign in event handlers\nelements.signInBtn.onclick = () => auth.signInWithPopup(provider);\nelements.signOutBtn.onclick = () => {\n\tauth.signOut();\n\tstate.like.likes.forEach(like => likesView.deleteListItem(like.key))\n\tstate.like = new Like();\n\twindow.location.hash = '';\n\tstate.like.readStorage();\n\tstate.like.likes.forEach((like) => likesView.renderListItem(like));\n}\n\nelements.nav.addEventListener('click', (e) => {\n\tif (e.target.matches('#likesBtn, #likesBtn *')) {\n\t\t// Handle Likes Button\n\t\tif (elements.likes.classList.contains('hidden')) {\n\t\t\telements.likes.classList.remove('hidden');\n\t\t} else {\n\t\t\telements.likes.classList.add('hidden');\n\t\t}\n\t\t// Handle Menu\n\t} else if (e.target.matches('#burger, #burger *')) {\n\t\tif (elements.menu.classList.contains('hidden')) {\n\t\t\telements.menu.classList.remove('hidden');\n\t\t} else {\n\t\t\telements.menu.classList.add('hidden');\n\t\t}\n\t}\n});\nelements.body.addEventListener('click', (e) => {\n\t// Toggle like button\n\n\tif (e.target.matches('#like, #like *')) {\n\t\tcontrolLike();\n\t\t// Generate new activity\n\t} else if (\n\t\te.target.matches('#generate, #generate *') ||\n\t\te.target.matches('#createAct, #createAct *')\n\t) {\n\t\tcontrolActivity();\n\t\tif (elements.activitySection.classList.contains('hidden')) {\n\t\t\telements.activitySection.classList.remove('hidden');\n\t\t}\n\t}\n});\n\n// Check for inputted activity\nwindow.addEventListener('hashchange', async function () {\n\tconst id = window.location.hash.replace('#', '').trim();\n\t\n\t// If hash is empty, hide activity section and clear loader\n\tif (!id || id === '') {\n\t\tactivityView.clearActivity();\n\t\tclearLoader(elements.main);\n\t\tif (!elements.activitySection.classList.contains('hidden')) {\n\t\t\telements.activitySection.classList.add('hidden');\n\t\t}\n\t\treturn;\n\t}\n\t\n\t// Only process if it's a valid activity ID (7 digits between 1000000-9999999)\n\tconst numericId = parseInt(id, 10);\n\tif (isNaN(numericId) || numericId < 1000000 || numericId > 9999999) {\n\t\t// Invalid ID format, clear and hide section\n\t\tactivityView.clearActivity();\n\t\tclearLoader(elements.main);\n\t\tif (!elements.activitySection.classList.contains('hidden')) {\n\t\t\telements.activitySection.classList.add('hidden');\n\t\t}\n\t\treturn;\n\t}\n\t\n\t// Valid ID, show section and fetch activity\n\tactivityView.clearActivity();\n\tclearLoader(elements.main);\n\trenderLoader(elements.main);\n\tif (elements.activitySection.classList.contains('hidden')) {\n\t\telements.activitySection.classList.remove('hidden');\n\t}\n\t\n\tstate.app = new AppActivity(numericId);\n\ttry {\n\t\tconst call = await state.app.getData();\n\t\tclearLoader(elements.main);\n\t\tif (call) {\n\t\t\tcontrolActivity(numericId, state.app.data);\n\t\t} else {\n\t\t\tcontrolActivity(numericId);\n\t\t}\n\t} catch (err) {\n\t\tconsole.error('Something went wrong');\n\t\tconsole.error(err);\n\t\tclearLoader(elements.main);\n\t\t// Hide section on error\n\t\tif (!elements.activitySection.classList.contains('hidden')) {\n\t\t\telements.activitySection.classList.add('hidden');\n\t\t}\n\t}\n});\n\n// Ensure activity section is hidden on DOMContentLoaded (before any other scripts run)\ndocument.addEventListener('DOMContentLoaded', () => {\n\tif (elements.activitySection && !elements.activitySection.classList.contains('hidden')) {\n\t\telements.activitySection.classList.add('hidden');\n\t}\n\tactivityView.clearActivity();\n});\n\n// Restore liked recipes on page load\nwindow.addEventListener('load', () => {\n\tchangeLanguageByButtonClick()\n\tstate.like = new Like();\n\t\n\t// Ensure activity section is hidden on initial load\n\tactivityView.clearActivity();\n\tclearLoader(elements.main);\n\tif (elements.activitySection && !elements.activitySection.classList.contains('hidden')) {\n\t\telements.activitySection.classList.add('hidden');\n\t}\n\t\n\t// Clear hash on initial load if it's empty or invalid\n\tconst currentHash = window.location.hash.replace('#', '').trim();\n\tif (!currentHash || currentHash === '') {\n\t\twindow.location.hash = '';\n\t} else {\n\t\tconst numericId = parseInt(currentHash, 10);\n\t\t// If hash exists but is invalid, clear it\n\t\tif (isNaN(numericId) || numericId < 1000000 || numericId > 9999999) {\n\t\t\twindow.location.hash = '';\n\t\t}\n\t}\n\t\n\t// Restore likes\n\tstate.like.readStorage();\n\n\t// Render the existing likes\n\tstate.like.likes.forEach((like) => likesView.renderListItem(like));\n});\n"],"sourceRoot":""}